<!DOCTYPE html>
<html lang="en">

{% load static %}

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta authors="John Allen & Michael Wood">


    <link rel="icon" href="{% static "main/img/favicon.ico" %}">

    <!-- Bootstrap CSS -->
    <link href="{% static "main/css/bootstrap.css" %}" rel="stylesheet">
    <!-- Font awesome Icons -->
    <script src="https://kit.fontawesome.com/00bc557d5e.js" crossorigin="anonymous"></script>
    <!-- JQuery, Popper, Bootstrap javascript plugins -->
    <script src="{% static "main/js/jquery.js" %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script type="module" src="{% static "main/js/custom-bootstrap.js" %}"></script>

    <!-- Custom styles for this template REMOVE REFRESH ^^^^ CACHE -->
    <link href="{% static "main/css/test3.css" %}?{% now 'U' %}" rel="stylesheet">

    <!-- Dashboard controller -->
    <script src="{% static "main/js/dashboard.js" %}?{% now 'U' %}" rel="dashboardcontroller"></script>
</head>

<body onload="popSubCategories(categories={{categories}}, sub_categories=null, initial=true)"
    onresize="resize_dashboard()">
    <!-- NAVBAR -->
    <nav class="navbar fixed-top navbar-expand">
        <a class="navbar-brand" href="/" style="color: #EFFD5F;">
            <img src="{% static "main/img/favicon.ico" %}" alt="logo" style="width: 32px; height: 32px;">
            <span style="font-size:120%;">|</span> TuDu
        </a>
        <div class="d-flex ml-auto">
            <ul class="navbar-nav">
                <li>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
                        aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNavDropdown">
                        <ul class="navbar-nav w-100 justify-content-end">
                            <li class="nav-item dropdown">
                                <a class="nav-link" href="#" id="navbarDropdownMenuLink" role="button"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <span class="pr-2" style="color:#EFFD5F;">{{user.username}}</span>
                                    <svg class="bi bi-person-circle" width="32px" height="32px" viewBox="0 0 16 16"
                                        fill="#EFFD5F" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M13.468 12.37C12.758 11.226 11.195 10 8 10s-4.757 1.225-5.468 2.37A6.987 6.987 0 0 0 8 15a6.987 6.987 0 0 0 5.468-2.63z" />
                                        <path fill-rule="evenodd" d="M8 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
                                        <path fill-rule="evenodd"
                                            d="M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8z" />
                                    </svg>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
        </div>
    </nav>

    <!-- MAIN INTERACTIVE MAP -->
    <main class="no-gutters">

        <!--Floating interactionables-->

        <!--DropPin button-->
        {% if user.is_authenticated %}
        <button type="button" class="btn" id="dropPin">
            <span class="fa-stack fa-2x fa-fw">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-map-pin fa-stack-1x fa-inverse"></i>
            </span>
        </button>
        {% endif %}

        <!--Filter button.....card and script TBI
            <button type="button" class="btn mapBtn" name="filters" onclick="toggleFilterCard()">
                <span class="fa-stack fa-2x fa-fw">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-glasses fa-stack-1x fa-inverse"></i>
                </span>
            </button>-->

        <!--Floating search box-->
        <div class="container rounded" id="searchBoxFloat">
            <div class="row">
                <form class="form-inline" action="#">
                    <!--define form action (is this 'enter'?)-->
                    <input type="text" class="form-control" placeholder="Search..." id="searchFieldFloat">
                    <button class="btn" type="button" id="sidebarCollapse">
                        <span class="fa-stack">
                            <i class="fas fa-circle fa-stack-2x"></i>
                            <i class="fas fa-search fa-stack-1x fa-inverse"></i>
                        </span>
                    </button>
                </form>
            </div>
        </div>

        <!--MapBox panel.....if sizing weird due to bootstrap, see CSS comment-->
        <div id="mapbox">
            <iframe width="100%" height="100%"
                src="https://maps.google.com/maps?width=100%&amp;height=600&amp;hl=en&amp;q=Leeds%20Castle%2C%20Broomfield%2C%20Maidstone+(mapboxplaceholder)&amp;ie=UTF8&amp;t=p&amp;z=9&amp;iwloc=B&amp;output=embed"
                frameborder="0" scrolling="no"><a href="http://www.gps.ie/">GPS
                    coordinates</a></iframe>
        </div>
    </main>

    <!-- DASHBOARD FOOTER -->
    <footer>
        <button type="button" class="btn" id="toggleDash">
            <span class="no-gutters" id="dashArrow"><i class="fas fa-caret-up"></i>DASHBOARD</span>
        </button>
        <!-- DASHBOARD IS MINIMIZED -->
        <!-- populate with filters until screen width reached --
        <div id="activeFiltersBar" class="border no-gutters">
            <button class="btn filterBarBtn" type="button" id="activeBtn">
                <figure class="figure">
                    <img src="/static/main/img/x_swimming.svg" alt="clearSwimming" height="50px;" width="50px;"></i>
                    <figcaption class="figure-caption">Swimming</figcaption>
                </figure>
            </button>
            <button class="btn filterBarBtn" type="button">
                <figure class="figure">
                    <img src="/static/main/img/x_swimming.svg" alt="clearSwimming" height="50px;" width="50px;"></i>
                    <figcaption class="figure-caption">Swimming</figcaption>
                </figure>
            </button>
        </div>-->

        <!-- populate with filters when screen width exceeded --
        <div id="activeFilters" class="carousel slide">
            <div class="carousel-inner">
                !-- Indicators --
                <ol class="carousel-indicators">
                    <li data-target="#activeFilters" data-slide-to="0" class="active"></li>
                    <li data-target="#activeFilters" data-slide-to="1"></li>
                </ol>
                !-- Slideshow --
                <div class="carousel-item active">
                    <button class="btn filterBarBtn" type="button">
                        <figure class="figure">
                            <img src="/static/main/img/x_swimming.svg" alt="clearSwimming" height="50px;"
                                width="50px;"></i>
                            <figcaption class="figure-caption">Swimming</figcaption>
                        </figure>
                    </button>
                    <button class="btn filterBarBtn" type="button">
                        <figure class="figure">
                            <img src="/static/main/img/x_swimming.svg" alt="clearSwimming" height="50px;"
                                width="50px;"></i>
                            <figcaption class="figure-caption">Swimming</figcaption>
                        </figure>
                    </button>
                    <button class="btn filterBarBtn" type="button">
                        <figure class="figure">
                            <img src="/static/main/img/x_swimming.svg" alt="clearSwimming" height="50px;"
                                width="50px;"></i>
                            <figcaption class="figure-caption">Swimming</figcaption>
                        </figure>
                    </button>
                    <button class="btn filterBarBtn" type="button">
                        <figure class="figure">
                            <img src="/static/main/img/x_swimming.svg" alt="clearSwimming" height="50px;"
                                width="50px;"></i>
                            <figcaption class="figure-caption">Swimming</figcaption>
                        </figure>
                    </button>
                </div>
                <div class="carousel-item">
                    <button class="btn filterBarBtn" type="button">
                        <figure class="figure">
                            <img src="/static/main/img/x_swimming.svg" alt="clearSwimming" height="50px;"
                                width="50px;"></i>
                            <figcaption class="figure-caption">Swimming</figcaption>
                        </figure>
                    </button>
                    <button class="btn filterBarBtn" type="button">
                        <figure class="figure">
                            <img src="/static/main/img/x_swimming.svg" alt="clearSwimming" height="50px;"
                                width="50px;"></i>
                            <figcaption class="figure-caption">Swimming</figcaption>
                        </figure>
                    </button>
                </div>
            </div>
            !-- Left & Right controls --
            <a class="carousel-control-prev min" href="#activeFilters" data-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </a>
            <a class="carousel-control-next min" href="#activeFilters" data-slide="next">
                <span class="carousel-control-next-icon"></span>
            </a>
        </div>-->

        <div id="dashContent" class="no-gutters" style="background-color: aquamarine; height: 100%; display: none;">

            <!-- <div class="carousel carousel-slider center carouselRow">
                <div class="carousel-item container-fluid" href="#one!">
                    <div class="row d-flex border carouselRow">
                        <div class="col-6 no-gutters border">
                            <div class="no-gutters" id="dash0">SEARCH RESULTS
                            </div>
                        </div>
                        <div class="col-6 no-gutters border">
                            <div class="no-gutters" id="dash1">THINGS TuDu
                            </div>
                        </div>
                    </div>
                </div>
                <div class="carousel-item container-fluid" href="#two!">
                    <div class="row d-flex border carouselRow">
                        <div class="col-12 no-gutters border">

                        <h2>Second Panel</h2>
                        <p class="white-text">This is your second panel</p>

                        </div>
                    </div>

                </div>
            </div> 


            <div class="carousel carousel-slider center">
                <div class="carousel-fixed-item center">
                  <a class="btn waves-effect white grey-text darken-text-2">button</a>
                </div>
                <div class="carousel-item red white-text" href="#one!">
                  <h2>First Panel</h2>
                  <p class="white-text">This is your first panel</p>
                </div>
                <div class="carousel-item amber white-text" href="#two!">
                  <h2>Second Panel</h2>
                  <p class="white-text">This is your second panel</p>
                </div>
                <div class="carousel-item green white-text" href="#three!">
                  <h2>Third Panel</h2>
                  <p class="white-text">This is your third panel</p>
                </div>
                <div class="carousel-item blue white-text" href="#four!">
                  <h2>Fourth Panel</h2>
                  <p class="white-text">This is your fourth panel</p>
                </div>
              </div>


        </div>

        <script>

            $('.carousel.carousel-slider').carousel({
                fullWidth: true,
                indicators: true
            });

        </script> -->

        <!--SCREEN IS X-LARGE, DISPLAY ALL 4 DASHSECTIONS-->
            <div id="xlDash" class="row d-flex">
                <div class="col-3 no-gutters border">
                    <div class="no-gutters" id="dash0">SEARCH RESULTS</div>
                </div>
                <div class="col-3 no-gutters border">
                    <div class="no-gutters" id="dash1">THINGS TuDu</div>
                </div>
                <div class="col-3 no-gutters border">
                    <div class="no-gutters" id="dash2">
                        <div class="container">
                            <div class="card" id="filterCard">
                                <div class="card-header">
                                    <div class="catBtnContainer no-gutters border">
                                        {% for name, sub_cat in categories.items %}
                                        <button class="btn catBtn"
                                            onclick="popSubCategories(categories=null, sub_categories={{sub_cat}}, initial=false)">{{name}}</button>
                                        {% endfor %}
                                    </div>
                                </div>
                                <div class="card-body" style="background-color: orange; padding:0; margin:0;">

                                    <div class="no-gutters">
                                        <div id="filterMenu" class="carousel slide" data-interval="false">

                                            <ul class="carousel-indicators subCat" style="margin: 0; padding: 0;"
                                                id="carousel-pages">
                                            </ul>

                                            <div class="carousel-inner">
                                                <div class="container" id="subCatCarousel">
                                                </div>
                                            </div>

                                            <a class="carousel-control-prev" href="#filterMenu" role="button"
                                                data-slide="prev">
                                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                <span class="sr-only">Previous</span>
                                            </a>
                                            <a class="carousel-control-next" href="#filterMenu" role="button"
                                                data-slide="next">
                                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                <span class="sr-only">Next</span>
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-3 no-gutters border">
                    <div class="no-gutters" id="dash3">MORE FEATURES</div>
                </div>
            </div>
        </div>

        <!--SCREEN IS MEDIUM, DISPLAY 2 DASHSECTIONS IN 2 CAROUSELS
            <div class="row border carouselRow">
                <div id="mdDash" class="border carousel slide" data-interval="false" data-touch="true">
                    !--Indicators--
                    <ul class="carousel-indicators" style="margin: 0; padding: 0;">
                        <li data-target="#mdDash" data-slide-to="0" class="active"></li>
                        <li data-target="#mdDash" data-slide-to="1"></li>
                    </ul>
                    !--Slideshow--
                    <div class="carousel-inner no-gutters carouselRow">
                        <div class="carousel-item active container-fluid">
                            <div class="row d-flex border carouselRow">
                                <div class="col-6 no-gutters border">
                                    <div class="no-gutters" id="dash0">SEARCH RESULTS
                                    </div>
                                </div>
                                <div class="col-6 no-gutters border">
                                    <div class="no-gutters" id="dash1">THINGS TuDu
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item container-fluid">
                            <div class="row d-flex border carouselRow">
                                <div class="col-6 border">
                                    !--<div class="no-gutters carouselRow" id="dash2">
                                        <div class="container carouselRow">
                                        <div class="card" id="filterCard">
                                            <div class="card-header">
                                                <div class="catBtnContainer no-gutters border">
                                                    {% for name, sub_cat in categories.items %}
                                                    <button class="btn catBtn"
                                                        onclick="popSubCategories(categories=null, sub_categories={{sub_cat}}, initial=false)">{{name}}</button>
                                                    {% endfor %}
                                                </div>
                                            </div>
                                            <div class="card-body"
                                                style="background-color: orange; padding:0; margin:0;">

                                                !--IF >x subCategories - LOAD CAROUSEL--
                                                <div class="no-gutters">
                                                    <div id="filterMenu" class="carousel slide"
                                                        data-interval="false">
                                                        !--Indicators--
                                                        <ul class="carousel-indicators subCat"
                                                            style="margin: 0; padding: 0;" id="carousel-pages">
                                                            <!-- CAROUSEL INDICATORS HERE --
                                                        </ul>
                                                        !--Slideshow--
                                                            <div class="carousel-inner">
                                                                <div class="container" id="subCatCarousel">
                                                                    <!-- SUB-CATEGORY CAROUSEL BUTTONS HERE --
                                                                </div>
                                                            </div>
                                                            !--Left & Right Controls--
                                                            <a class="carousel-control-prev" href="#filterMenu"
                                                                role="button" data-slide="prev">
                                                                <span class="carousel-control-prev-icon"
                                                                    aria-hidden="true"></span>
                                                                <span class="sr-only">Previous</span>
                                                            </a>
                                                            <a class="carousel-control-next" href="#filterMenu"
                                                                role="button" data-slide="next">
                                                                <span class="carousel-control-next-icon"
                                                                    aria-hidden="true"></span>
                                                                <span class="sr-only">Next</span>
                                                            </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        </div>
                                    </div>--
                                </div>
                                <div class="col-6 border">
                                    <div class="no-gutters" id="dash3">MORE FEATURES
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--Left & Right Controls--
                    <a class="carousel-control-prev" href="#mdDash" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#mdDash" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div> -->

        <!--SCREEN IS SMALL, DISPLAY 1 DASHSECTION IN 4 CAROUSELS--
            <div class="row border">
                <div id="smDash" class="no-gutters border carousel slide" data-interval="false" data-touch="true">

                    <ul class="carousel-indicators" style="margin: 0; padding: 0;">
                        <li data-target="#smDash" data-slide-to="0" class="active"></li>
                        <li data-target="#smDash" data-slide-to="1"></li>
                        <li data-target="#smDash" data-slide-to="2"></li>
                        <li data-target="#smDash" data-slide-to="3"></li>
                    </ul>

                    <div class="carousel-inner no-gutters">
                        <div class="carousel-item active container-fluid">
                            <div class="no-gutters" id="dash0">SEARCH RESULTS
                            </div>
                        </div>
                        <div class="carousel-item container-fluid">
                            <div class="no-gutters" id="dash1">THINGS TuDu</div>
                        </div>
                        <div class="carousel-item container-fluid">
                            <div class="no-gutters" id="dash2">
                                <div class="container">
                                    <div class="card" id="filterCard">
                                        <div class="card-header">
                                            <div class="catBtnContainer no-gutters border">
                                                {% for name, sub_cat in categories.items %}
                                                <button class="btn catBtn"
                                                    onclick="popSubCategories(categories=null, sub_categories={{sub_cat}}, initial=false)">{{name}}</button>
                                                {% endfor %}
                                            </div>
                                        </div>
                                        <div class="card-body" style="background-color: orange; padding:0; margin:0;">

                                            <!--IF >x subCategories - LOAD CAROUSEL--
                                            <div class="no-gutters">
                                                <div id="filterMenu" class="carousel slide" data-interval="false">
                                                    <!--Indicators--
                                                    <ol class="carousel-indicators subCat" style="margin: 0; padding: 0;"
                                                        id="carousel-pages">
                                                        <!-- CAROUSEL INDICATORS HERE --
                                                    </ol>
                                                    <!--Slideshow--
                                                    <div class="carousel-inner">
                                                        <div class="container" id="subCatCarousel">
                                                            <!-- SUB-CATEGORY CAROUSEL BUTTONS HERE --
                                                        </div>
                                                    </div>
                                                    <!--Left & Right Controls--
                                                    <a class="carousel-control-prev" href="#filterMenu" role="button"
                                                        data-slide="prev">
                                                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                        <span class="sr-only">Previous</span>
                                                    </a>
                                                    <a class="carousel-control-next" href="#filterMenu" role="button"
                                                        data-slide="next">
                                                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                        <span class="sr-only">Next</span>
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item container-fluid">
                            <div class="no-gutters" id="dash3">MORE FEATURES</div>
                        </div>
                    </div>

                    <a class="carousel-control-prev" href="#smDash" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#smDash" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>-->



    </footer>
</body>

</html>

<!-- 4 slide dashboard
<div id="dashboardCarousel" class="carousel slide">
    <ol class="carousel-indicators">
      <li data-target="#dashboardCarousel" data-slide-to="0" class="active"></li>
      <li data-target="#dashboardCarousel" data-slide-to="1"></li>
      <li data-target="#dashboardCarousel" data-slide-to="2"></li>
      <li data-target="#dashboardCarousel" data-slide-to="3"></li>
    </ol>
    <div class="carousel-inner">
      <div class="carousel-item active">
        ' + dash0 + '
      </div>
      <div class="carousel-item">
        ' + dash01 + '      
    </div>
      <div class="carousel-item">
        ' + dash2 + '
      </div>
      <div class="carousel-item">
        ' + dash3 + '
      </div>
    </div>
    <a class="carousel-control-prev" href="#dashboardCarousel" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#dashboardCarousel" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>



<div id="dashboardCarousel" class="carousel slide">
    <ol class="carousel-indicators">
      <li data-target="#dashboardCarousel" data-slide-to="0" class="active"></li>
      <li data-target="#dashboardCarousel" data-slide-to="1"></li>
    </ol>
    <div class="carousel-inner">
      <div class="carousel-item active">
        ' + dash0 + dash1 '
      </div>
      <div class="carousel-item">
        ' + dash2 + dash3 '
      </div>
    </div>
    <a class="carousel-control-prev" href="#dashboardCarousel" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#dashboardCarousel" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div> -->