<!DOCTYPE html>
<html lang="en">
{% load static %}

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta authors="John Allen & Michael Wood">


    <link rel="icon" href="{% static "main/img/favicon.ico" %}">

    <!-- Bootstrap CSS -->
    <link href="{% static "main/css/bootstrap.css" %}" rel="stylesheet">
    <!-- Font awesome Icons-->
    <script src="https://kit.fontawesome.com/00bc557d5e.js" crossorigin="anonymous"></script>
    <!-- JQuery, Popper, Bootstrap javascript plugins-->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"></script>

    <!-- Custom styles for this template REMOVE REFRESH ^^^^ CACHE -->
    <link href="{% static "main/css/test3.css" %}?{% now 'U' %}" rel="stylesheet">

    <!-- SCRIPT FOR OPEN/CLOSE DASHBOARD-->
    <script>
        $(document).ready(function () {
            $('#toggleDash').click(function () {
                if ($('#toggleDash').parent().is('footer.active')) {
                    $('#dashArrow').replaceWith('<span class="no-gutters" id="dashArrow"><i class="fas fa-caret-up"></i>DASHBOARD</span>');
                } else if ($('#toggleDash').parent().is('footer')) {
                    $('#dashArrow').replaceWith('<span class="no-gutters" id="dashArrow"><i class="fas fa-caret-up fa-rotate-180"></i>DASHBOARD</span>');
                };
                $('footer').toggleClass('active');
            });
        });
    </script>
</head>

<body>
    <!--NAVBAR-->
    <nav class="navbar fixed-top navbar-expand">
        <a class="navbar-brand" href="/" style="color: #EFFD5F;">
            <img src="{% static "main/img/favicon.ico" %}" alt="logo" style="width: 32px; height: 32px;">
            <span style="font-size:120%;">|</span> TuDu
        </a>
        <div class="d-flex ml-auto">
            <ul class="navbar-nav">
                <li>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
                        aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNavDropdown">
                        <ul class="navbar-nav w-100 justify-content-end">
                            <li class="nav-item dropdown">
                                <a class="nav-link" href="#" id="navbarDropdownMenuLink" role="button"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <span class="pr-2" style="color:#EFFD5F;">{{user.username}}</span>
                                    <svg class="bi bi-person-circle" width="32px" height="32px" viewBox="0 0 16 16"
                                        fill="#EFFD5F" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M13.468 12.37C12.758 11.226 11.195 10 8 10s-4.757 1.225-5.468 2.37A6.987 6.987 0 0 0 8 15a6.987 6.987 0 0 0 5.468-2.63z" />
                                        <path fill-rule="evenodd" d="M8 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
                                        <path fill-rule="evenodd"
                                            d="M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1zM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8z" />
                                    </svg>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>
            </ul>
        </div>
    </nav>

    <!--MAIN INTERACTIVE MAP-->
    <main class="no-gutters">

        <!--Floating interactionables-->

        <!--DropPin button-->
        {% if user.is_authenticated %}
        <button type="button" class="btn" id="dropPin">
            <span class="fa-stack fa-2x fa-fw">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-map-pin fa-stack-1x fa-inverse"></i>
            </span>
        </button>
        {% endif %}

        <!--Filter button.....card and script TBI
            <button type="button" class="btn mapBtn" name="filters" onclick="toggleFilterCard()">
                <span class="fa-stack fa-2x fa-fw">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-glasses fa-stack-1x fa-inverse"></i>
                </span>
            </button>-->

        <!--Floating search box-->
        <div class="container rounded" id="searchBoxFloat">
            <div class="row">
                <form class="form-inline" action="#">
                    <!--define form action (is this 'enter'?)-->
                    <input type="text" class="form-control" placeholder="Search..." id="searchFieldFloat">
                    <button class="btn" type="button" id="sidebarCollapse">
                        <span class="fa-stack">
                            <i class="fas fa-circle fa-stack-2x"></i>
                            <i class="fas fa-search fa-stack-1x fa-inverse"></i>
                        </span>
                    </button>
                </form>
            </div>
        </div>

        <!--MapBox panel.....if sizing weird due to bootstrap, see CSS comment-->
        <div id="mapbox">
            <iframe width="100%" height="100%"
                src="https://maps.google.com/maps?width=100%&amp;height=600&amp;hl=en&amp;q=Leeds%20Castle%2C%20Broomfield%2C%20Maidstone+(mapboxplaceholder)&amp;ie=UTF8&amp;t=p&amp;z=9&amp;iwloc=B&amp;output=embed"
                frameborder="0" scrolling="no"><a href="http://www.gps.ie/">GPS
                    coordinates</a></iframe>
        </div>
    </main>

    <!--DASHBOARD FOOTER-->
    <footer>
        <button type="button" class="btn" id="toggleDash">
            <span class="no-gutters" id="dashArrow"><i class="fas fa-caret-up"></i>DASHBOARD</span>
        </button>
        <!--DASHBOARD IS MINIMIZED-->
        <!--populate with filters until screen width reached-->
        <div id="activeFiltersBar" class="activeFiltersMin border no-gutters" style="display:none;">
            <button class="btn filterBarBtn" type="button">
                <figure class="figure">
                    <img src="/static/main/img/x_swimming.svg" alt="clearSwimming" height="50px;" width="50px;"></i>
                    <figcaption class="figure-caption">Swimming</figcaption>
                </figure>
            </button>
            <button class="btn filterBarBtn" type="button">
                <figure class="figure">
                    <img src="/static/main/img/x_swimming.svg" alt="clearSwimming" height="50px;" width="50px;"></i>
                    <figcaption class="figure-caption">Swimming</figcaption>
                </figure>
            </button>
        </div>

        <!--populate with filters when screen width exceeded-->
        <div id="activeFilters" class="activeFiltersMin carousel slide" style="display:none;">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    kjdshviushjk
                </div>
            </div>
            <a class="carousel-control-prev" href="#activeFilters" data-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </a>
            <a class="carousel-control-next" href="#activeFilters" data-slide="next">
                <span class="carousel-control-next-icon"></span>
            </a>
        </div>

        <!--DASHBOARD IS EXPANDED-->
        <div id="dashContent" class="row no-gutters d-flex" style="background-color: aquamarine; height: 100%;">

            <!--SCREEN IS LARGE, DISPLAY ALL 4 DASHSECTIONS-->
            <div id="lgDash" style="display:none;">
                <div class="col-3 no-gutters border">
                    SEARCH RESULTS
                </div>
                <div class="col-3 no-gutters border">
                    THINGS TuDu
                </div>
                <div class="col-3 no-gutters border">
                    FILTERS
                </div>
                <div class="col-3 no-gutters border">
                    MORE FEATURES
                </div>
            </div>

            <!--SCREEN IS MEDIUM, DISPLAY 2 DASHSECTIONS IN 2 CAROUSELS-->
            <div id="mdDash" class="no-gutters border carousel slide" data-interval="false" data-touch="true" style="display:none;">
                <!--Indicators-->
                <ol class="carousel-indicators" style="margin: 0; padding: 0;">
                    <li data-target="#mdDash" data-slide-to="0" class="active"></li>
                    <li data-target="#mdDash" data-slide-to="1"></li>
                </ol>
                <!--Slideshow-->
                <div class="carousel-inner no-gutters">
                    <div class="carousel-item active container-fluid">
                        <div class="row d-flex border">
                            <div class="col-6 border">
                                SEARCH RESULTS
                            </div>
                            <div class="col-6 border">
                                THINGS TuDu
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item container-fluid">
                        <div class="row d-flex border">
                            <div class="col-6 border">
                                FILTERS
                            </div>
                            <div class="col-6 border">
                                MORE FEATURES
                            </div>
                        </div>
                    </div>
                </div>
                <!--Left & Right Controls-->
                <a class="carousel-control-prev" href="#mdDash" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#mdDash" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>

            <!--SCREEN IS SMALL, DISPLAY 1 DASHSECTION IN 4 CAROUSELS-->
            <div id="smDash" class="no-gutters border carousel slide" data-interval="false" data-touch="true">
                <!--Indicators-->
                <ol class="carousel-indicators" style="margin: 0; padding: 0;">
                    <li data-target="#smDash" data-slide-to="0" class="active"></li>
                    <li data-target="#smDash" data-slide-to="1"></li>
                    <li data-target="#smDash" data-slide-to="2"></li>
                    <li data-target="#smDash" data-slide-to="3"></li>
                </ol>
                <!--Slideshow-->
                <div class="carousel-inner no-gutters">
                    <div class="carousel-item active container-fluid">
                        SEARCH RESULTS
                    </div>
                    <div class="carousel-item container-fluid">
                        THINGS TuDu
                    </div>
                    <div class="carousel-item container-fluid">
                        FILTERS
                    </div>
                    <div class="carousel-item container-fluid">
                        MORE FEATURES
                    </div>
                </div>
                <!--Left & Right Controls-->
                <a class="carousel-control-prev" href="#smDash" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#smDash" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    </footer>
</body>

</html>
