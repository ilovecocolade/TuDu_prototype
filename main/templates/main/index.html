{% extends 'main/includes/common.html' %}
{% load static %}


{% block head %}
<title>TuDu | Find something TuDu!</title>
<meta description="">
<!--Insert calculated SEO wording-->
<meta keywords="">
<!--Insert calculated SEO wording-->
<base href="/">
<!--Insert calculated SEO wording, target="" can open in new tab etc-->

{% endblock %}


{% block content %}


<!-- MAIN INTERACTIVE MAP -->
<main class="no-gutters" onresize="resize_dashboard()">

  <!-- Floating interactionables -->
  <!-- DropPin button -->
  {% if user.is_authenticated %}
  <button type="button" class="btn mapBtn" id="dropPin">
      <div data-toggle="tooltip" title="Create something TuDu" data-placement="right"
          style="width: 100%; height: 100%;">
          <img src="{% static "main/img/droppin_btn.svg" %}" alt="logo" style="width: 40px; height: 40px;">
      </div>
  </button>
  {% endif %}

  <!-- Filter button -->
  <button type="button" class="btn mapBtn" name="filters" id="filterBtn">
      <div data-toggle="tooltip" title="Filter things TuDu" data-placement="bottom"
          style="width: 100%; height: 100%;">
          <img src="{% static "main/img/filter_btn.svg" %}" alt="logo" style="width: 40px; height: 40px;">
      </div>

  </button>

  <!-- MapBox panel -->
  <div id="mapbox">

      {% if user.is_authenticated %}
      <!-- Primary Modal -->
      <div class="modal fade" id="uploadLocationModalPrimary" style="position: absolute;">
          <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">

                  <!-- Modal Header -->
                  <div class="modal-header">
                      <span>
                          <h2 class="modal-title">Which category best describes your upload?</h2>
                      </span>
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                  </div>

                  <!-- Modal body -->
                  <div class="modal-body" style="height: 400px">
                      <div class="container-fluid">
                          <div class="card border rounded" id="filterCardAddLocation"
                              style="margin-top: 4px; border: none;">
                              <div class="card-header" id="filterCardHeaderAddLocation">
                                  <div class="catBtnContainer no-gutters">
                                      {% for name, sub_cat in categories.items %}
                                      <button class="btn catBtn" id="{{name}}-add-location"
                                          onclick="popSubCategoriesAddLocationPrimary(categories='{{name}}', sub_categories={{sub_cat}}, initial=false)">{{name}}</button>
                                      {% endfor %}
                                  </div>
                              </div>
                              <div class="card-body" id="filterCardBodyAddLocation"
                                  style="background-color: orange; padding:10px; margin:0;">

                                  <div class="no-gutters">
                                      <div id="filterMenuAddLocation" class="carousel slide"
                                          data-interval="false">

                                          <ul class="carousel-indicators" style="margin: 0; padding: 0;"
                                              id="carousel-pages-add-location">
                                          </ul>

                                          <div class="carousel-inner">
                                              <div class="container" id="subCatCarouselAddLocation">
                                              </div>
                                          </div>

                                          <a class="carousel-control-prev" href="#filterMenuAddLocation"
                                              role="button" data-slide="prev">
                                              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                              <span class="sr-only">Previous</span>
                                          </a>
                                          <a class="carousel-control-next" href="#filterMenuAddLocation"
                                              role="button" data-slide="next">
                                              <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                              <span class="sr-only">Next</span>
                                          </a>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="container-fluid" style="margin-top: 20px;">
                          <div class="row no-gutters d-flex justify-content-center">
                              <h5>Primary category</h5>
                          </div>
                          <div class="row no-gutters d-flex justify-content-center" style="height: 150px">
                              <div class="flex-container d-flex justify-content-center"
                                  id="primarySubCatContainer">
                                  <img src="{% static "main/img/icons/subcat_icon_placeholder.svg" %}"
                                      alt="primary_subCat_icon" style="height: 100px; width: 100px;">
                              </div>
                          </div>
                      </div>
                  </div>

                  <!-- Modal footer -->
                  <div class="modal-footer">
                      <!--<button type="button" class="btn btn-danger" id="primarySubCatBack">Back</button>-->
                      <button type="button" class="btn btn-success" data-toggle="tooltip" data-placement="left"
                          title="Please select a primary category before continuing"
                          id="primarySubCatContinue">Continue</button>
                  </div>
              </div>
          </div>
      </div>


      <!-- Secondary Modal -->
      <div class="modal fade" id="uploadLocationModalSecondary" style="position: absolute;">
          <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">

                  <!-- Modal Header -->
                  <div class="modal-header">
                      <span>
                          <h2 class="modal-title">If applicable, choose up to two secondary categories.</h2>
                      </span>
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                  </div>

                  <!-- Modal body -->
                  <div class="modal-body" style="height: 400px">
                      <div class="container-fluid">
                          <div class="card border rounded" id="filterCardAddLocation"
                              style="margin-top: 4px; border: none;">
                              <div class="card-header" id="filterCardHeaderAddLocation">
                                  <div class="catBtnContainer no-gutters">
                                      {% for name, sub_cat in categories.items %}
                                      <button class="btn catBtn" id="{{name}}-add-location-secondary"
                                          onclick="popSubCategoriesAddLocationSecondary(categories='{{name}}', sub_categories={{sub_cat}}, initial=false)">{{name}}</button>
                                      {% endfor %}
                                  </div>
                              </div>
                              <div class="card-body" id="filterCardBodyAddLocationSecondary"
                                  style="background-color: orange; padding:10px; margin:0;">

                                  <div class="no-gutters">
                                      <div id="filterMenuAddLocationSecondary" class="carousel slide"
                                          data-interval="false">

                                          <ul class="carousel-indicators" style="margin: 0; padding: 0;"
                                              id="carousel-pages-add-location-secondary">
                                          </ul>

                                          <div class="carousel-inner">
                                              <div class="container" id="subCatCarouselAddLocationSecondary">
                                              </div>
                                          </div>

                                          <a class="carousel-control-prev" href="#filterMenuAddLocationSecondary"
                                              role="button" data-slide="prev">
                                              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                              <span class="sr-only">Previous</span>
                                          </a>
                                          <a class="carousel-control-next" href="#filterMenuAddLocationSecondary"
                                              role="button" data-slide="next">
                                              <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                              <span class="sr-only">Next</span>
                                          </a>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="container-fluid" style="margin-top: 20px;">
                          <div class="row no-gutters d-flex justify-content-center">
                              <h5>Secondary categories</h5>
                          </div>
                          <div class="row no-gutters d-flex justify-content-center" style="height: 120px">
                              <div class="flex-container d-flex justify-content-center"
                                  id="secondarySubCatContainer">
                                  <span>
                                      <button class="btn" type="button" id="secondaryPlaceholder">
                                          <figure class="figure"><img
                                                  src="/static/main/img/icons/subcat_icon_placeholder.svg"
                                                  style="height: 90px; width: 90px;">
                                              <figcaption class="figure-caption">&nbsp </figcaption>
                                          </figure>
                                      </button>
                                      <button class="btn" type="button" id="secondaryPlaceholder">
                                          <figure class="figure"><img
                                                  src="/static/main/img/icons/subcat_icon_placeholder.svg"
                                                  style="height: 90px; width: 90px;">
                                              <figcaption class="figure-caption">&nbsp </figcaption>
                                          </figure>
                                      </button>
                                  </span>
                              </div>
                          </div>
                          <div class="row no-gutters d-flex justify-content-center" style="height: 30px">
                              <div class="flex-container d-flex justify-content-center">
                                  <p class="small">Click icon to remove.</p>
                              </div>
                          </div>
                      </div>
                  </div>

                  <!-- Modal footer -->
                  <div class="modal-footer">
                      <button type="button" class="btn btn-danger" id="secondarySubCatBack">Back</button>
                      <button type="button" class="btn btn-success" id="secondarySubCatContinue">Continue</button>
                  </div>
              </div>
          </div>
      </div>


      <!-- Final Modal -->
      <div class="modal fade" id="submitLocationModal" style="position: absolute;">
          <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">

                  <!-- Modal Header -->
                  <div class="modal-header">
                      <span>
                          <h2 class="modal-title">Please create a name, add a short description and upload an
                              image of your location.</h2>
                      </span>
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                  </div>

                  <!-- Modal body -->
                  <div class="modal-body" style="height: 400px">
                      <div class="input-group mb-3">
                          <div class="input-group-prepend">
                              <span class="input-group-text">Name</span>
                          </div>
                          <input type="text" class="form-control" id="inputLocationName" placeholder="Name your location" aria-label="Name of location">
                      </div>

                      <div class="input-group mb-3">
                          <div class="input-group-prepend">
                              <span class="input-group-text">Upload Image</span>
                          </div>
                          <div class="custom-file">
                              <input type="file" class="custom-file-input" id="inputLocationImage">
                              <label class="custom-file-label" for="inputLocationImage">Select file</label>
                          </div>
                      </div>

                      <script>
                          $('#inputLocationImage').on('change', function () {
                              var file_name = $(this).val().replace('C:\\fakepath\\', '');
                              $(this).next('.custom-file-label').html(file_name);
                          });
                      </script>

                      <div class="input-group" id="descriptionInput">
                          <div class="input-group-prepend">
                              <span class="input-group-text">Description</span>
                          </div>
                          <textarea class="form-control" id="inputLocationDescription" placeholder="Describe your location" aria-label="Description of location"></textarea>
                      </div>
                  </div>

                  <!-- Modal footer -->
                  <div class="modal-footer">
                      <button type="button" class="btn btn-danger" id="submitLocationBack">Back</button>
                      <button type="button" class="btn btn-primary" data-toggle="tooltip" id="submitLocation" data-placement="top"
                      title="Please select a primary category before continuing" formmethod="POST">Create Location</button>
                  </div>
              </div>
          </div>
      </div>

      <!-- Instantiate add location form -->
      <form id="createLocationForm" method="POST" enctype="multipart/form-data" style="display: none;"> <!-- style="display: none;" -->
      {% csrf_token %}
      {{ add_location_form }}
      </form>

      {% endif %}



      <div id='map' style='width: 100%; height: 100%;'></div>

      <script>
          // generate mapbox interactive map
          mapboxgl.accessToken = 'pk.eyJ1IjoidG9vZG9vIiwiYSI6ImNrYmpncWk4ODBwNWgycW1idWltZnpqaHgifQ.WGlRW_oHZX7M2Ks_kJL_GA';
          var map = new mapboxgl.Map({
              container: 'map',
              style: 'mapbox://styles/mapbox/streets-v11',
              center: [-0.164088, 51.508907],
              zoom: 4,
          });

          map.addControl(
              new MapboxGeocoder({
                  accessToken: mapboxgl.accessToken,
                  limit: 8,
                  flyTo: {
                      bearing: 0,
                      // These options control the flight curve, making it move
                      // slowly and zoom out almost completely before starting
                      // to pan.
                      speed: 1, // make the flying slow
                      curve: 3, // change the speed at which it zooms out
                      // This can be any easing function: it takes a number between
                      // 0 and 1 and returns another number between 0 and 1.
                      easing: function (t) {
                          return t;
                      }
                  },
                  mapboxgl: mapboxgl
              }), 'top-left'
          );

          map.addControl(new mapboxgl.NavigationControl());

      </script>

  </div>
</main>

<!-- DASHBOARD FOOTER -->
<footer>

  <button type="button" class="btn" id="toggleDash">
      <span class="no-gutters" id="dashArrow"><i class="fas fa-caret-up"></i>DASHBOARD</span>
  </button>

  <div id="dashContent" class="no-gutters" style="height: 100%; display:none;">
      <div class="row no-gutters" style="height: 100%;">
          <div id="dashCarousel" class="container-fluid" style="height:100%;">
              <div id="dash0">
                  <!-- Search card -->
                  <div class="container cardContainer">
                      <div class="card cardAlt mx-auto">
                          <div class="card-header card-headerAlt">
                              <div class="container">
                                  <div class="row">
                                      <form class="form-inline" action="#" id="searchDash">
                                          <!--define form action (is this 'enter'?)-->
                                          <input type="text" class="form-control" placeholder="Search..."
                                              id="searchFieldDash">
                                          <button class="btn" type="submit" id="goSearch">
                                              <img src="{% static "main/img/search_btn.svg" %}" alt="logo"
                                                  style="width: 32px; height: 32px;">
                                          </button>
                                      </form>
                                  </div>
                              </div>
                          </div>
                          <div class="card-body card-body-main">
                              <div class="overflow-auto container-fluid card-bodyContainer">
                                  <ul class="list-group list-group-flush">
                                      <li class="list-group-item">search result</li>
                                      <li class="list-group-item">search result</li>
                                      <li class="list-group-item">search result</li>
                                      <li class="list-group-item">search result</li>
                                      <li class="list-group-item">search result</li>
                                      <li class="list-group-item">search result</li>
                                      <li class="list-group-item">search result</li>
                                      <li class="list-group-item">search result</li>
                                      <li class="list-group-item">search result</li>
                                      <li class="list-group-item">search result</li>
                                      <li class="list-group-item">search result</li>
                                  </ul>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
              <div id="dash1">
                  <!-- Locations card -->
                  <script>
                      function show_value(current_range) {
                          var unit = $('#range_unit').text();

                          if (unit == 'miles') {
                              $('#range_value').html(current_range);
                          } else if (unit == 'km') {
                              $('#range_value').html(Math.round(current_range * 1.6));
                          }
                      }

                      function change_unit() {
                          var unit = $('#range_unit').text();
                          var current_range = $('#range_value').text();

                          if (unit == 'miles') {
                              $('#range_unit').html('km');
                              $('#range_value').html(Math.floor(current_range * 1.6));
                          } else if (unit == 'km') {
                              $('#range_unit').html('miles');
                              $('#range_value').html(Math.round(current_range / 1.6));
                          }

                      }
                  </script>
                  <div class="container cardContainer">
                      <div class="card cardAlt mx-auto">
                          <div class="card-header locationCardHeader">
                              <div class="no-gutters">
                                  <div class="row d-flex">
                                      <div class="col-8">
                                          <div class="row" style="height:30px;">
                                              <h6 style="padding:5px 0 0 20px;">Things TuDu within <span
                                                      id="range_value">25</span>
                                                  <span id="range_unit">miles</span></h6>
                                          </div>
                                          <div class="row" style="height:25px; padding-left:40px;">
                                              <div class="btn-group">
                                                  <button type="button" class="btn btn-group locationsCardBtn"
                                                      style="padding:0;" id="filterBtnDash">Filter</button>
                                              </div>
                                              <div class="btn-group dropright">
                                                  <button type="button"
                                                      class="btn dropdown-toggle locationsCardBtn"
                                                      style="padding:0; margin-left: 20px;"
                                                      data-toggle="dropdown">Sort
                                                      by</button>
                                                  <div class="dropdown-menu">
                                                      <a class="dropdown-item active">Ranking</a>
                                                      <a class="dropdown-item">Visits</a>
                                                      <a class="dropdown-item">Rating</a>
                                                      <a class="dropdown-item">Nearest</a>
                                                  </div>
                                              </div>
                                              <button class="btn btn-sm btn-outline-success" data-toggle="button"
                                                  style="margin-left:10px; padding: 0;" id="verifyOnly"><span
                                                      class="no-gutters"
                                                      style="height: 100%; padding: 0; margin: 0;"
                                                      data-toggle="tooltip"
                                                      title="Only show verified locations">Verified
                                                      only</span></button>
                                          </div>
                                      </div>
                                      <div class="col-2" style="padding:0;">
                                          <div class="slidecontainer no-gutters" style="width:70px">
                                              <label style="margin-bottom:0; margin-left:10px"
                                                  for="searchRange"><small>Range:</small></label>
                                              <input type="range" min="1" max="100" value="25"
                                                  class="custom-range" oninput="show_value(this.value)"
                                                  id="searchRange">
                                          </div>
                                      </div>
                                      <div class="col-2" style="padding-left: 5px;">
                                          <div class="onoffswitch no-gutters">
                                              <label for="myonoffswitch"
                                                  style="padding:0; margin:0;"><small>Units:</small></label>
                                              <input type="checkbox" name="onoffswitch"
                                                  class="onoffswitch-checkbox" onchange="change_unit();"
                                                  id="myonoffswitch" tabindex="0" checked>
                                              <label class="onoffswitch-label" for="myonoffswitch">
                                                  <span class="onoffswitch-inner"></span>
                                                  <span class="onoffswitch-switch"></span>
                                              </label>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                          <div class="card-body card-body-main">
                              <div class="overflow-auto container-fluid card-bodyContainer">
                                  <table class="table table-sm table-hover w-auto locationsCardTable">
                                      <thead>
                                          <tr>
                                              <th>Icon</th>
                                              <th>Name</th>
                                              <th>Status</th>
                                              <th>Visits</th>
                                              <th>Distance</th>
                                          </tr>
                                      </thead>
                                      <tbody>
                                          <tr>
                                              <td>icon_img</td>
                                              <td>Dungeness beach sea fishing</td>
                                              <td>img</td>
                                              <td>100k visits</td>
                                              <td>15.5 miles</td>
                                          </tr>
                                          <tr>
                                              <td>icon_img</td>
                                              <td>Dungeness beach sea fishing</td>
                                              <td>img</td>
                                              <td>100k visits</td>
                                              <td>15.5 miles away</td>
                                          </tr>
                                          <tr>
                                              <td>icon_img</td>
                                              <td>Dungeness beach sea fishing</td>
                                              <td>img</td>
                                              <td>100k visits</td>
                                              <td>15.5 miles away</td>
                                          </tr>
                                          <tr>
                                              <td>icon_img</td>
                                              <td>Dungeness beach sea fishing</td>
                                              <td>img</td>
                                              <td>100k visits</td>
                                              <td>15.5 miles away</td>
                                          </tr>
                                          <tr>
                                              <td>icon_img</td>
                                              <td>Dungeness beach sea fishing</td>
                                              <td>img</td>
                                              <td>100k visits</td>
                                              <td>15.5 miles away</td>
                                          </tr>
                                          <tr>
                                              <td>icon_img</td>
                                              <td>Dungeness beach sea fishing</td>
                                              <td>img</td>
                                              <td>100k visits</td>
                                              <td>15.5 miles away</td>
                                          </tr>
                                          <tr>
                                              <td>icon_img</td>
                                              <td>Dungeness beach sea fishing</td>
                                              <td>img</td>
                                              <td>100k visits</td>
                                              <td>15.5 miles away</td>
                                          </tr>
                                          <tr>
                                              <td>icon_img</td>
                                              <td>Dungeness beach sea fishing</td>
                                              <td>img</td>
                                              <td>100k visits</td>
                                              <td>15.5 miles away</td>
                                          </tr>
                                          <tr>
                                              <td>icon_img</td>
                                              <td>Dungeness beach sea fishing</td>
                                              <td>img</td>
                                              <td>100k visits</td>
                                              <td>15.5 miles away</td>
                                          </tr>
                                          <tr>
                                              <td>icon_img</td>
                                              <td>Dungeness beach sea fishing</td>
                                              <td>img</td>
                                              <td>100k visits</td>
                                              <td>15.5 miles away</td>
                                          </tr>
                                      </tbody>
                                  </table>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
              <div id="dash2">
                  <!-- Focus card -->
                  <div class="container cardContainer">
                      <div class="card cardAlt mx-auto">
                          <div class="card-header" id="focusCardHeader">
                              <div id="focusHeaderContainer" class="container-fluid"
                                  style="height: 60px; width: 360px;">
                                  <span>LOCATION TITLE</span>
                              </div>
                              <!-- TextFill -->
                              <script>
                                  $(document).ready(function () { $('#focusHeaderContainer').textfill({}); });
                              </script>
                          </div>
                          <div class="card-body card-body-main">
                              <div class="container-fluid">
                                  <div class="row d-flex" style="height:200px;">
                                      <div class="col-8" style="overflow:hidden;">
                                          <div id="locationImages" class="carousel slide" data-interval="false">
                                              <!-- Indicators -->
                                              <ul class="carousel-indicators">
                                                  <li data-target="locationImages" data-slide-to="0"
                                                      class="active">
                                                  </li>
                                                  <li data-target="locationImages" data-slide-to="1"></li>
                                              </ul>
                                              <!-- Slideshow -->
                                              <div class="carousel-inner" id="imageContainer">
                                                  <div class="carousel-item active">
                                                      <img src="#" alt="title_image"
                                                          style="height: 200px; width: 220px;">
                                                  </div>
                                                  <div class="carousel-item">
                                                      <img src="#" alt="alt_image"
                                                          style="height: 200px; width: 220px;">
                                                  </div>
                                              </div>
                                              <!-- Left & right arrows -->
                                              <a class="carousel-control-prev" href="#locationImages"
                                                  data-slide="prev">
                                                  <span class="carousel-control-prev-icon"></span>
                                              </a>
                                              <a class="carousel-control-next" href="#locationImages"
                                                  data-slide="next">
                                                  <span class="carousel-control-next-icon"></span>
                                              </a>
                                          </div>
                                      </div>
                                      <div class="col-4" style="overflow:hidden; padding: 2px; line-height: 0.4">
                                          <h6 class="subHead">TuDu Ranking:</h6>
                                          <p>1 of 100</p>
                                          <h6 class="subHead" style="margin-top: 5px;">Visits:</h6>
                                          <p style="margin-bottom: 10px;">50</p>
                                          <h6 class="subHead" style="padding-top:5px;">Rating:</h6>
                                          <span class="fa fa-star checked"></span>
                                          <span class="fa fa-star checked"></span>
                                          <span class="fa fa-star checked"></span>
                                          <span class="fa fa-star"></span>
                                          <span class="fa fa-star"></span>
                                          <h6 class="subHead" style="margin-bottom: 0; padding-top: 10px;">
                                              Distance:
                                          </h6>
                                          <p style="font-size: 15px; line-height: 1;">100 miles or 160 km away</p>
                                      </div>
                                  </div>
                                  <div class="row" style="height:20px; margin-top:5px;">
                                      <div class="col-8 d-flex justify-content-center">
                                          <span class="badge badge-pill badge-success align-top"
                                              data-toggle="tooltip"
                                              title="'verification definition here!'">verified</span>
                                          <span class="badge badge-pill badge-danger align-top"
                                              data-toggle="tooltip"
                                              title="'flagged definition here!'">flagged</span>
                                      </div>
                                      <div class="col-4 mx-auto" style="overflow:hidden; padding: 0; margin: 0;">
                                          <span>
                                              <button class="btn btn-sm btn-outline-success verifyBtn"
                                                  data-toggle="tooltip">'Verify this'</button>
                                              <button class="btn btn-sm btn-outline-danger flagBtn">'Flag
                                                  this'</button>
                                          </span>
                                      </div>
                                  </div>
                                  <div class="row" style="height:80px; margin-top:5px;">
                                      <div class="container-fluid overflow-auto" style="height:80px;">
                                          <p>Description:
                                              iogerjiofjaeriofjselrjhfiesjcfgmojmeiopwejroicgjkouiewjhfjselrjhfiesjcfgmojmeiopwejroicgjkouiewjhfjselrjhfiesjcfgmojmeiopwejroicgjkouiewjhfjselrjhfiesjcfgmojmeiopwejroicgjkouiewjhfjselrjhfiesjcfgmojmeiopwejroicgjkouiewjhfjselrjhfiesjcfgmojmeiopwejroicgjkouiewjhcioge5jiowgsjeriolgs
                                          </p>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
              <div id="dash3">
                  <!-- Filter card -->
                  <div class="container cardContainer">
                      <div class="card" id="filterCard" style="margin-top: 4px; border: none;">
                          <div class="card-header" id="filterCardHeader">
                              <div class="catBtnContainer no-gutters">
                                  {% for name, sub_cat in categories.items %}
                                  <button class="btn catBtn" id="{{name}}-dash-filter"
                                      onclick="popSubCategories(categories='{{name}}', sub_categories={{sub_cat}}, initial=false)">{{name}}</button>
                                  {% endfor %}
                              </div>
                          </div>
                          <div class="card-body" id="filterCardBody"
                              style="background-color: lightblue; padding:0; margin:0; height: 150px;">

                              <div class="no-gutters d-flex align-items-center border" style="height: 150px;">
                                  <div id="filterMenu" class="carousel slide" data-interval="false">

                                      <ul class="carousel-indicators subCat" style="margin: 0; padding: 0;"
                                          id="carousel-pages">
                                      </ul>

                                      <div class="carousel-inner">
                                          <div class="container" id="subCatCarousel">
                                          </div>
                                      </div>

                                      <a class="carousel-control-prev" href="#filterMenu" role="button"
                                          data-slide="prev">
                                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                          <span class="sr-only">Previous</span>
                                      </a>
                                      <a class="carousel-control-next" href="#filterMenu" role="button"
                                          data-slide="next">
                                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                          <span class="sr-only">Next</span>
                                      </a>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>

  <!-- SLICK dashCarousel -->
  <script>
      /*$(window).ready(function () {
          $('#dashCarousel').slick({
              //general
              infinite: false,
              slidesToShow: 4,
              arrows: true,
              prevArrow: "<button type='button' class='slick-prev pull-left'><i class='fa fa-angle-left' aria-hidden='true'></i></button>",
              nextArrow: "<button type='button' class='slick-next pull-right'><i class='fa fa-angle-right' aria-hidden='true'></i></button>",

              //responsivity
              responsive: [{
                  breakpoint: 1580,
                  settings: {
                      slidesToShow: 3,
                      slidesToScroll: 1,
                  }
              }, {
                  breakpoint: 1190,
                  settings: {
                      slidesToShow: 2,
                      slidesToScroll: 2,
                  }
              }, {
                  breakpoint: 800,
                  settings: {
                      slidesToShow: 1,
                      slidesToScroll: 1,
                  }
              }]
          });
      });*/

  </script>

</footer>

<script>
  $(document).ready(function () {
      $('[data-toggle="tooltip"]').tooltip();
  });
</script>


{% endblock %}